<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verify Language Fix</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/language-selector.css">
</head>
<body>
    <nav class="nav">
        <div class="nav__inner">
            <a class="logo" href="index.html">ESCAPE FROM DUCKOV</a>
            <div class="nav__links">
                <a href="index.html" data-lang="nav_home">Home</a>
                <a href="guides.html" data-lang="nav_guides">Guides</a>
                <a href="wiki.html" data-lang="nav_wiki">Wiki</a>
                <a href="mods.html" data-lang="nav_mods">Mods</a>
                <a href="news.html" data-lang="nav_news">News</a>
                <a href="about.html" data-lang="nav_about">About</a>
                <a href="contact.html" data-lang="nav_contact">Contact</a>

                <div class="language-selector">
                    <select id="globalLanguageSelector" class="language-dropdown">
                        <option value="en">ğŸ‡ºğŸ‡¸ English</option>
                        <option value="zh-CN">ğŸ‡¨ğŸ‡³ ç®€ä½“ä¸­æ–‡</option>
                        <option value="zh-TW">ğŸ‡¹ğŸ‡¼ ç¹é«”ä¸­æ–‡</option>
                        <option value="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
                        <option value="ko">ğŸ‡°ğŸ‡· í•œêµ­ì–´</option>
                        <option value="de">ğŸ‡©ğŸ‡ª Deutsch</option>
                        <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
                    </select>
                </div>
            </div>
        </div>
    </nav>

    <div style="padding: 20px;">
        <h1>éªŒè¯è¯­è¨€ä¿®å¤</h1>

        <div style="margin: 20px 0; padding: 15px; background: #f0f8ff; border-radius: 5px;">
            <h3>éªŒè¯æ­¥éª¤ï¼š</h3>
            <ol>
                <li>ä½¿ç”¨ä¸Šé¢çš„è¯­è¨€é€‰æ‹©å™¨åˆ‡æ¢åˆ°"ç®€ä½“ä¸­æ–‡"</li>
                <li>è§‚å¯Ÿå¯¼èˆªæ ä¸­çš„æ‰€æœ‰é“¾æ¥</li>
                <li>ç¡®è®¤æ‰€æœ‰7ä¸ªå¯¼èˆªé¡¹éƒ½è¢«ç¿»è¯‘æˆä¸­æ–‡</li>
                <li>æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰æŸ¥çœ‹è¯¦ç»†æ—¥å¿—</li>
            </ol>
        </div>

        <div style="margin: 20px 0; padding: 15px; background: #fffacd; border-radius: 5px;">
            <h3>æœŸæœ›ç»“æœï¼š</h3>
            <ul>
                <li><strong>HOME</strong> â†’ <strong>é¦–é¡µ</strong> âœ…</li>
                <li><strong>GUIDES</strong> â†’ <strong>æŒ‡å—</strong> âœ…</li>
                <li><strong>WIKI</strong> â†’ <strong>ç»´åŸº</strong> âœ…</li>
                <li><strong>MODS</strong> â†’ <strong>MOD</strong> âœ…</li>
                <li><strong>NEWS</strong> â†’ <strong>èµ„è®¯</strong> âœ…</li>
                <li><strong>ABOUT</strong> â†’ <strong>å…³äº</strong> âœ…</li>
                <li><strong>CONTACT</strong> â†’ <strong>è”ç³»</strong> âœ…</li>
            </ul>
        </div>

        <button onclick="showCurrentStatus()">æ˜¾ç¤ºå½“å‰çŠ¶æ€</button>
        <button onclick="testAllLanguages()">æµ‹è¯•æ‰€æœ‰è¯­è¨€</button>
        <button onclick="clearDebugInfo()">æ¸…é™¤è°ƒè¯•ä¿¡æ¯</button>

        <div id="debug-info" style="margin-top: 20px; padding: 15px; background: #f5f5f5; font-family: monospace; white-space: pre-wrap; max-height: 300px; overflow-y: auto; display: none;">
        </div>
    </div>

    <script src="assets/js/language-system.js"></script>
    <script>
        function showCurrentStatus() {
            const debugDiv = document.getElementById('debug-info');
            debugDiv.style.display = 'block';

            let status = '=== å½“å‰è¯­è¨€ç³»ç»ŸçŠ¶æ€ ===\n\n';

            if (!window.languageSystem) {
                status += 'âŒ è¯­è¨€ç³»ç»Ÿæœªæ‰¾åˆ°\n';
            } else {
                const langSystem = window.languageSystem;
                status += `âœ… è¯­è¨€ç³»ç»Ÿå·²æ‰¾åˆ°\n`;
                status += `å½“å‰è¯­è¨€: ${langSystem.currentLanguage}\n`;
                status += `æ”¯æŒçš„è¯­è¨€: ${Object.keys(langSystem.translations).join(', ')}\n\n`;

                const currentTranslations = langSystem.translations[langSystem.currentLanguage];
                status += 'å½“å‰ç¿»è¯‘æ•°æ®:\n';
                ['nav_home', 'nav_guides', 'nav_wiki', 'nav_mods', 'nav_news', 'nav_about', 'nav_contact'].forEach(key => {
                    const translation = currentTranslations[key];
                    status += `  ${key}: "${translation}"\n`;
                });

                status += '\nå½“å‰DOMçŠ¶æ€:\n';
                const navLinks = document.querySelectorAll('.nav__links a[data-lang]');
                navLinks.forEach((link, index) => {
                    const langKey = link.getAttribute('data-lang');
                    const currentText = link.textContent.trim();
                    const expectedText = currentTranslations[langKey];
                    const isCorrect = currentText === expectedText;

                    status += `  [${index + 1}] ${langKey}: "${currentText}" ${isCorrect ? 'âœ…' : 'âŒ'}\n`;
                    if (!isCorrect && expectedText) {
                        status += `      æœŸæœ›: "${expectedText}"\n`;
                    }
                });
            }

            debugDiv.textContent = status;
        }

        function testAllLanguages() {
            const debugDiv = document.getElementById('debug-info');
            debugDiv.style.display = 'block';

            let status = '=== æµ‹è¯•æ‰€æœ‰è¯­è¨€ ===\n\n';

            if (!window.languageSystem) {
                status += 'âŒ è¯­è¨€ç³»ç»Ÿæœªæ‰¾åˆ°\n';
            } else {
                const langSystem = window.languageSystem;
                const languages = ['en', 'zh-CN', 'zh-TW', 'ja', 'ko', 'de', 'fr'];
                const navKeys = ['nav_home', 'nav_guides', 'nav_wiki', 'nav_mods', 'nav_news', 'nav_about', 'nav_contact'];

                languages.forEach(lang => {
                    status += `--- è¯­è¨€: ${lang} ---\n`;
                    const translations = langSystem.translations[lang];

                    if (!translations) {
                        status += 'âŒ ç¿»è¯‘æ•°æ®æœªæ‰¾åˆ°\n';
                        return;
                    }

                    let allComplete = true;
                    navKeys.forEach(key => {
                        const translation = translations[key];
                        if (!translation) {
                            status += `  âŒ ${key}: æœªæ‰¾åˆ°\n`;
                            allComplete = false;
                        } else {
                            status += `  âœ… ${key}: "${translation}"\n`;
                        }
                    });

                    status += allComplete ? '  ç¿»è¯‘å®Œæ•´\n\n' : '  ç¿»è¯‘ä¸å®Œæ•´\n\n';
                });
            }

            debugDiv.textContent = status;
        }

        function clearDebugInfo() {
            const debugDiv = document.getElementById('debug-info');
            debugDiv.style.display = 'none';
            debugDiv.textContent = '';
        }

        // é¡µé¢åŠ è½½åè‡ªåŠ¨æ˜¾ç¤ºçŠ¶æ€
        setTimeout(showCurrentStatus, 1500);
    </script>
</body>
</html>